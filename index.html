<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>アップル歯科医院 アンケート</title>
  <link rel="stylesheet" href="style.css"/>
  <script src="script.js" defer></script>
</head>
<body>
<main>
  <h1>アップル歯科医院 アンケート</h1>

  <!-- ① 初期画面：星だけ -->
  <form id="starsForm" class="card" aria-labelledby="q1">
    <p id="q1">ご来院ありがとうございます。当院の対応は総合的にいかがでしょうか。</p>
    <div class="stars" role="radiogroup" aria-label="満足度">
      <label><input type="radio" name="stars" value="5" required>★5 非常に満足</label>
      <label><input type="radio" name="stars" value="4">★4 満足</label>
      <label><input type="radio" name="stars" value="3">★3 普通</label>
      <label><input type="radio" name="stars" value="2">★2 不満</label>
      <label><input type="radio" name="stars" value="1">★1 非常に不満</label>
    </div>
    <p class="note">※星を選ぶと次に進みます</p>
  </form>

  <!-- ② 低評価フロー：コメント入力＋送信 -->
  <section id="lowFlow" class="card" hidden>
    <h2>ご協力ありがとうございます</h2>
    <p>よろしければ具体的な内容についてお聞かせください。</p>
    <label for="detailComment" class="visually-hidden">コメント</label>
    <textarea id="detailComment" rows="6" maxlength="1000" placeholder="個人情報は書かないでください。"></textarea>
    <div class="actions">
      <button id="lowSendBtn" class="primary">送信</button>
    </div>
  </section>

  <!-- ③ 低評価フロー：送信後の完了表示 -->
  <section id="lowThanks" class="card" hidden>
    <h2>ご協力ありがとうございます</h2>
    <p>貴重なご意見をいただきありがとうございます。院内で共有し、改善に努めて参ります。</p>
  </section>

  <!-- ④ 高評価フロー：Google誘導（自動で3.5秒後に新規タブ） -->
  <section id="highFlow" class="card" hidden>
    <h2>ご協力ありがとうございます</h2>
    <p>よろしければGoogle上で具体的な内容をお聞かせください。</p>
    <div class="actions">
      <a id="googleBtn" class="primary" rel="noopener" target="_blank">Googleに投稿</a>
    </div>
    <p class="note" id="autoOpenNote" aria-live="polite"></p>
  </section>
</main>
</body>
</html>
